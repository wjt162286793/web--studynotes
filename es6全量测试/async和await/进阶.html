<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>进阶</title>
</head>
<body>
    <script>
        //async
        // let fn = async function(){
        //     return '函数返回值'
        // }
        // console.log(fn(),'调用fn函数')
        // fn().then(res=>{
        //     console.log(res,'获取值')
        // })

        // let fn1 = async function(){
        //     return '普通函数1'
        // }
        // async function fn2(){
        //     return '普通函数2'
        // }
        // async ()=> '箭头函数'
        // class Fn{
        //     constructor(){

        //     }
        //     async fn(){
        //         return '类中的方法'
        //     }
        // }

        //必须配合async
        // let pro = function(){
        //     return new Promise(res=>{
        //         res('成功的值')
        //     })
        // }
        // let value = await pro()

        // let pro = async function(){
        //     let value = await new Promise(res=>{
        //         setTimeout(()=>{
        //             res('promise执行成功的值')
        //         },3000)
                
        //     })
        //     console.log(value,'await绑定promise实例')
        // }
        // pro()
        // let pro = async function(){
        //     let value = await '常规值'
        //     console.log(value,'await返回常规值')
        // }
        // pro()
      
        async function pro(){
            try{
               let value =  await new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    // resolve('成功')
                    reject('失败')
                },3000)
            })
            return value
        
            }catch(error){
              console.log(error,'进入catch')
              return error
            }

        }
        pro().then(res=>{
            console.log(res,'执行完毕')
        }).catch(error=>{
            console.log(error,'报错回调')
        })
    </script>
</body>
</html>